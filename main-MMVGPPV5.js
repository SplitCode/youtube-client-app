import{a as En,b as we}from"./chunk-4KY2UTHF.js";import{a as ee}from"./chunk-RVHI5NZO.js";import{a as J,b as Ce,d as Ee,e as qt,g as en,h as tn,i as nn,j as rn,k as on,q as sn,r as an}from"./chunk-MGHJKIUS.js";import"./chunk-FW3DR2M5.js";import{a as cn,b as ln,c as Ze,d as Ie,e as un,f as pn,g as fn,h as dn,i as mn,j as We,k as be,l as hn,m as q,p as gn,q as z,r as yn,s as xe,t as Ae,u as _e,v as vn,w as Sn,x as Cn}from"./chunk-PXWKRQ4T.js";import{c as zt,d as Gt,e as Zt,f as Wt,g as Xt,i as Kt,j as H,k as Yt,l as Qt,m as Jt,n as U}from"./chunk-BFO4FPQV.js";import{d as Vt,m as Ht,n as Ut,q as Se}from"./chunk-BZJH6ZOK.js";import{$ as bt,$a as jt,Aa as Ve,Ab as kt,Ba as He,Bb as N,C as Z,Ca as wt,Cb as Dt,D as T,Da as Ot,E as W,Eb as Pt,F as Le,Fb as Nt,G as X,Ga as ye,Gb as $t,I as fe,Ib as A,J as gt,Jb as oe,L as yt,M as de,Mb as se,N as vt,Nb as ae,Pa as Mt,Q as Be,Qb as Lt,T as St,Ua as k,V as Ct,Va as Y,W as Et,Wa as Tt,X as It,Ya as Ft,Yb as Bt,Z as re,Za as Rt,_ as me,_b as Ge,a as b,aa as xt,ab as ve,b as M,ba as At,ea as F,fa as he,g as ne,ha as j,j as pe,ja as y,jb as Q,k as Ne,ka as E,l as pt,lb as D,m as ft,n as dt,nb as v,o as mt,oa as _t,ob as g,pb as I,q as ie,qa as x,ra as ge,sb as Ue,u as ht,ua as K,v as w,vb as V,wb as ze,x as $e}from"./chunk-WCZLKJAP.js";var In=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["app-footer"]],standalone:!0,features:[A],decls:1,vars:0,template:function(i,o){i&1&&I(0,"p")}});let t=e;return t})();var xn=(()=>{let e=class e{constructor(n){this.router=n,this.isFilterShown$$=new Ne(!1),this.isSettingsVisible$$=new Ne(!0),this.router.events.pipe(T(i=>i instanceof Xt),w(i=>!i.urlAfterRedirects.startsWith("/main/details/"))).subscribe(i=>{this.isSettingsVisible$$.next(i),i||this.isFilterShown$$.next(!1)})}toggleFilter(){this.isFilterShown$$.next(!this.isFilterShown$$.getValue())}};e.\u0275fac=function(i){return new(i||e)(y(H))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var An=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["app-favorite-button"]],standalone:!0,features:[A],decls:2,vars:0,consts:[["btnAppearance","small"],[1,"favorite__img"]],template:function(i,o){i&1&&(v(0,"app-button",0),I(1,"span",1),g())},dependencies:[U],styles:['.favorite__img[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url("./media/favorite-btn-5ZXGM5WX.svg");background-repeat:no-repeat;background-position:center;background-size:100%}']});let t=e;return t})();var _n=(()=>{let e=class e{constructor(){this.searchService=E(we),this.filterControl=new tn("")}ngOnInit(){this.filterControl.valueChanges.pipe(X(300),de(),bt(n=>{n!==null&&this.searchService.updateFilterWord(n)})).subscribe()}onDateClick(){this.searchService.updateDateSortClick()}onViewsClick(){this.searchService.updateViewSortClick()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["app-filter"]],standalone:!0,features:[A],decls:12,vars:1,consts:[[1,"filters"],[1,"filters-title"],[1,"filters-list"],[1,"filters-list__item",3,"click"],[1,"filters-form"],["for","filter-input",1,"filters-form__label"],["type","text","id","filter-input",1,"filters-form__input",3,"formControl"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"p",1),N(2,"Sorting by:"),g(),v(3,"div",2)(4,"button",3),V("click",function(){return o.onDateClick()}),N(5,"date"),g(),v(6,"button",3),V("click",function(){return o.onViewsClick()}),N(7," count of views "),g(),v(8,"div",4)(9,"label",5),N(10,"by word or sentance"),g(),I(11,"input",6),g()()()),i&2&&(k(11),D("formControl",o.filterControl))},dependencies:[an,Ce,Ee,on],styles:[".filters[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1.8rem 2rem;gap:1.1rem;font-size:1.2rem;background-color:var(--bg-color)}.filters-title[_ngcontent-%COMP%]{color:var(--light-text-color)}.filters-list[_ngcontent-%COMP%]{display:flex;gap:2.1rem}.filters-list__item[_ngcontent-%COMP%]{border:none;background-color:transparent;color:var(--accent-color);cursor:pointer}.filters-list__item[_ngcontent-%COMP%]:hover, .filters-list__item[_ngcontent-%COMP%]:active{text-decoration:underline}.filters-form[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;color:var(--accent-color)}.filters-form__input[_ngcontent-%COMP%]{border:none;padding:.5rem}.filters-form__input[_ngcontent-%COMP%]:focus{outline-color:var(--accent-color)}"]});let t=e;return t})();var wn=(()=>{let e=class e{constructor(){this.title="Your Name"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["app-login-info"]],standalone:!0,features:[A],decls:4,vars:1,consts:[[1,"login-info__text"],["btnAppearance","small"],[1,"login-info__img"]],template:function(i,o){i&1&&(v(0,"p",0),N(1),g(),v(2,"app-button",1),I(3,"span",2),g()),i&2&&(k(),Dt(o.title))},dependencies:[U],styles:['[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.8rem}[_nghost-%COMP%]   .login-info__img[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url("./media/login-MBNI3CUX.png");background-repeat:no-repeat;background-position:center;background-size:100%}']});let t=e;return t})();var On=(()=>{let e=class e{constructor(n,i,o){this.searchService=n,this.router=i,this.authService=o,this.searchQuery="",this.searchSubject=new pe,this.isAuthenticated=!1,this.isAuthenticated$=this.authService.isAuthenticated$}ngOnInit(){this.isAuthenticated$.subscribe(n=>{this.isAuthenticated=n}),this.searchSubject.pipe(T(n=>n.length>=3||n.trim()===""),X(300),de()).subscribe(n=>{this.isAuthenticated&&this.searchService.searchCards(n)})}onSearchChange(n){this.searchSubject.next(n),this.router.navigate(["/main"])}get isSearchInputDisabled(){return!this.isAuthenticated}};e.\u0275fac=function(i){return new(i||e)(Y(we),Y(H),Y(J))},e.\u0275cmp=x({type:e,selectors:[["app-search-input"]],standalone:!0,features:[A],decls:2,vars:2,consts:[[1,"search-form"],["type","search","placeholder","What are you want to find out?","name","searchQuery","name","searchQuery",1,"search-form__input",3,"ngModelChange","ngModel","disabled"]],template:function(i,o){i&1&&(v(0,"form",0)(1,"input",1),$t("ngModelChange",function(a){return Nt(o.searchQuery,a)||(o.searchQuery=a),a}),V("ngModelChange",function(a){return o.onSearchChange(a)}),g()()),i&2&&(k(),Pt("ngModel",o.searchQuery),D("disabled",!o.isAuthenticated))},dependencies:[sn,rn,Ce,Ee,qt,nn,en],styles:[".search-form[_ngcontent-%COMP%]{display:flex;width:100%}.search-form__input[_ngcontent-%COMP%]{padding:.5rem 1.3rem;width:39.6rem;height:2.4rem;border:none;background-color:var(--light-input-bg)}.search-form__input[_ngcontent-%COMP%]:focus{outline-color:var(--accent-color)}.search-form__input[_ngcontent-%COMP%]::-webkit-search-cancel-button{cursor:pointer}.search-form__input[_ngcontent-%COMP%]:disabled{background-color:var(--bg-color);cursor:default;border:.1rem solid var(--light-text-color)}"]});let t=e;return t})();var Mn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["app-setting-img"]],standalone:!0,features:[A],decls:2,vars:0,consts:[["width","15","height","15","viewBox","0 0 15 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.5613 13.1136C9.78485 12.5128 10.2933 12.0909 10.8846 12.0909C11.476 12.0909 11.9844 12.5128 12.2079 13.1136H14.9231C15.2404 13.1136 15.5 13.4205 15.5 13.7955C15.5 14.1705 15.2404 14.4773 14.9231 14.4773H12.2079C11.9844 15.0781 11.476 15.5 10.8846 15.5C10.2933 15.5 9.78485 15.0781 9.5613 14.4773H1.07692C0.759615 14.4773 0.5 14.1705 0.5 13.7955C0.5 13.4205 0.759615 13.1136 1.07692 13.1136H9.5613ZM3.79207 7.31818C4.01563 6.71733 4.52404 6.29545 5.11538 6.29545C5.70673 6.29545 6.21514 6.71733 6.4387 7.31818H14.9231C15.2404 7.31818 15.5 7.625 15.5 8C15.5 8.375 15.2404 8.68182 14.9231 8.68182H6.4387C6.21514 9.28267 5.70673 9.70455 5.11538 9.70455C4.52404 9.70455 4.01563 9.28267 3.79207 8.68182H1.07692C0.759615 8.68182 0.5 8.375 0.5 8C0.5 7.625 0.759615 7.31818 1.07692 7.31818H3.79207ZM9.5613 1.52273C9.78485 0.921875 10.2933 0.5 10.8846 0.5C11.476 0.5 11.9844 0.921875 12.2079 1.52273H14.9231C15.2404 1.52273 15.5 1.82955 15.5 2.20455C15.5 2.57955 15.2404 2.88636 14.9231 2.88636H12.2079C11.9844 3.48722 11.476 3.90909 10.8846 3.90909C10.2933 3.90909 9.78485 3.48722 9.5613 2.88636H1.07692C0.759615 2.88636 0.5 2.57955 0.5 2.20455C0.5 1.82955 0.759615 1.52273 1.07692 1.52273H9.5613Z","fill","white"]],template:function(i,o){i&1&&(wt(),v(0,"svg",0),I(1,"path",1),g())},encapsulation:2});let t=e;return t})();var Tn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["app-settings-button"]],standalone:!0,features:[A],decls:2,vars:0,consts:[["btnAppearance","small"]],template:function(i,o){i&1&&(v(0,"app-button",0),I(1,"app-setting-img"),g())},dependencies:[U,Mn]});let t=e;return t})();var Ei=()=>["/"],Ii=()=>["/favorite"],bi=()=>["/admin"],xi=()=>["/login"];function Ai(t,e){if(t&1){let r=Ue();v(0,"app-settings-button",11),V("click",function(){Ve(r);let i=ze();return He(i.toggleFilter())}),g()}}function _i(t,e){t&1&&(v(0,"app-button",12),N(1,"Admin"),g()),t&2&&D("routerLink",oe(1,bi))}function wi(t,e){if(t&1){let r=Ue();v(0,"app-button",13),V("click",function(){Ve(r);let i=ze();return He(i.logout())}),N(1," Logout "),g()}}function Oi(t,e){t&1&&(v(0,"app-button",12),N(1," Login "),g()),t&2&&D("routerLink",oe(1,xi))}function Mi(t,e){t&1&&I(0,"app-filter")}var Oe=(()=>{let e=class e{constructor(){this.authService=E(J),this.headerService=E(xn),this.router=E(H),this.isSettingsVisible$=this.headerService.isSettingsVisible$$,this.isFilterShown$=this.headerService.isFilterShown$$,this.isAuthenticated$=this.authService.isAuthenticated$}toggleFilter(){this.headerService.toggleFilter()}logout(){this.authService.logout()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["app-header"]],standalone:!0,features:[A],decls:18,vars:17,consts:[["loginBtn",""],[1,"header"],[1,"header__content"],[1,"header__search-content"],["src","logo.svg","alt","youtube logo",1,"header__logo",3,"routerLink"],[3,"click",4,"ngIf"],[1,"header__login"],[3,"routerLink"],["btnAppearance","middle",3,"routerLink",4,"ngIf"],["btnAppearance","middle",3,"click",4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"click"],["btnAppearance","middle",3,"routerLink"],["btnAppearance","middle",3,"click"]],template:function(i,o){if(i&1&&(v(0,"header",1)(1,"div",2)(2,"div",3),I(3,"img",4)(4,"app-search-input"),Q(5,Ai,1,0,"app-settings-button",5),se(6,"async"),g(),v(7,"div",6),I(8,"app-login-info")(9,"app-favorite-button",7),Q(10,_i,2,2,"app-button",8),se(11,"async"),Q(12,wi,2,0,"app-button",9),se(13,"async"),Q(14,Oi,2,2,"ng-template",null,0,Lt),g()(),Q(16,Mi,1,0,"app-filter",10),se(17,"async"),g()),i&2){let s=kt(15);k(3),D("routerLink",oe(15,Ei)),k(2),D("ngIf",ae(6,7,o.isSettingsVisible$)),k(4),D("routerLink",oe(16,Ii)),k(),D("ngIf",ae(11,9,o.isAuthenticated$)),k(2),D("ngIf",ae(13,11,o.isAuthenticated$))("ngIfElse",s),k(4),D("ngIf",ae(17,13,o.isFilterShown$))}},dependencies:[On,wn,Se,Ht,Ut,Tn,An,U,_n,Jt,Yt],styles:[".header[_ngcontent-%COMP%]{background-color:var(--bg-color)}.header__content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;gap:1rem;max-width:144rem;padding:1.5rem 15.6rem 1.5rem 2rem}.header__search-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;flex-grow:1}.header__logo[_ngcontent-%COMP%]{height:5rem;width:5rem;cursor:pointer}.header__login[_ngcontent-%COMP%]{display:flex;gap:3rem}@media (max-width: 1024px){.header__content[_ngcontent-%COMP%]{flex-direction:column;padding:2rem}}"]});let t=e;return t})();var Me=class{constructor(e){if(e)throw new Error(`${e.constructor.name} has already been loaded. Import this module in the AppModule only.`)}};var Fn=(()=>{let e=class e extends Me{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(y(e,12))},e.\u0275mod=ge({type:e}),e.\u0275inj=he({imports:[Se,Oe]});let t=e;return t})();var Rn=(()=>{let e=class e{constructor(n){this.logger=n,this.logger.logMessage("AppComponent initialized")}};e.\u0275fac=function(i){return new(i||e)(Y(ee))},e.\u0275cmp=x({type:e,selectors:[["app-root"]],standalone:!0,features:[A],decls:4,vars:0,template:function(i,o){i&1&&(I(0,"app-header"),v(1,"main"),I(2,"router-outlet"),g(),I(3,"app-footer"))},dependencies:[Kt,Fn,Oe,In],encapsulation:2});let t=e;return t})();var Fi="@",Ri=(()=>{let e=class e{constructor(n,i,o,s,a){this.doc=n,this.delegate=i,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=E(Ft,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-MYMWCMQS.js").then(i=>i)).catch(i=>{throw new At(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,i){let o=this.delegate.createRenderer(n,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new Xe(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let S=a.createRenderer(n,i);s.use(S),this.scheduler?.notify(9)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(i){Tt()},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),Xe=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let r of this.replay)r(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,r){this.delegate.appendChild(e,r)}insertBefore(e,r,n,i){this.delegate.insertBefore(e,r,n,i)}removeChild(e,r,n){this.delegate.removeChild(e,r,n)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,n,i){this.delegate.setAttribute(e,r,n,i)}removeAttribute(e,r,n){this.delegate.removeAttribute(e,r,n)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,n,i){this.delegate.setStyle(e,r,n,i)}removeStyle(e,r,n){this.delegate.removeStyle(e,r,n)}setProperty(e,r,n){this.shouldReplay(r)&&this.replay.push(i=>i.setProperty(e,r,n)),this.delegate.setProperty(e,r,n)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,n){return this.shouldReplay(r)&&this.replay.push(i=>i.listen(e,r,n)),this.delegate.listen(e,r,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(Fi)}};function jn(t="animations"){return jt("NgAsyncAnimations"),K([{provide:Rt,useFactory:(e,r,n)=>new Ri(e,r,n,t),deps:[Vt,Zt,ve]},{provide:Mt,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ji={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Te="__@ngrx/effects_create__";function Dn(t,e={}){let r=e.functional?t:t(),n=b(b({},ji),e);return Object.defineProperty(r,Te,{value:n}),r}function ki(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(Te)?t[n][Te].hasOwnProperty("dispatch"):!1).map(n=>{let i=t[n][Te];return b({propertyName:n},i)})}function Di(t){return ki(t)}function Pn(t){return Object.getPrototypeOf(t)}function Pi(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function Nn(t){return typeof t=="function"}function Ni(t){return t.filter(Nn)}function $i(t,e,r){let n=Pn(t),o=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,s=Di(t).map(({propertyName:a,dispatch:S,useEffectsErrorHandler:p})=>{let l=typeof t[a]=="function"?t[a]():t[a],c=p?r(l,e):l;return S===!1?c.pipe(gt()):c.pipe(St()).pipe(w(_=>({effect:t[a],notification:_,propertyName:a,sourceName:o,sourceInstance:t})))});return Z(...s)}var Li=10;function $n(t,e,r=Li){return t.pipe(W(n=>(e&&e.handleError(n),r<=1?t:$n(t,e,r-1))))}var Ln=(()=>{let e=class e extends ne{constructor(n){super(),n&&(this.source=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}};e.\u0275fac=function(i){return new(i||e)(y(be))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bn(...t){return T(e=>t.some(r=>typeof r=="string"?r===e.type:r.type===e.type))}var Ro=new j("@ngrx/effects Internal Root Guard"),jo=new j("@ngrx/effects User Provided Effects"),ko=new j("@ngrx/effects Internal Root Effects"),Do=new j("@ngrx/effects Internal Root Effects Instances"),Po=new j("@ngrx/effects Internal Feature Effects"),No=new j("@ngrx/effects Internal Feature Effects Instance Groups"),Bi=new j("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>$n}),Vi="@ngrx/effects/init",Hi=ln(Vi);function Ui(t,e){if(t.notification.kind==="N"){let r=t.notification.value;!zi(r)&&e.handleError(new Error(`Effect ${Gi(t)} dispatched an invalid action: ${Zi(r)}`))}}function zi(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function Gi({propertyName:t,sourceInstance:e,sourceName:r}){let n=typeof e[t]=="function";return!!r?`"${r}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function Zi(t){try{return JSON.stringify(t)}catch{return t}}var Wi="ngrxOnIdentifyEffects";function Xi(t){return Ke(t,Wi)}var Ki="ngrxOnRunEffects";function Yi(t){return Ke(t,Ki)}var Qi="ngrxOnInitEffects";function Ji(t){return Ke(t,Qi)}function Ke(t,e){return t&&e in t&&typeof t[e]=="function"}var Vn=(()=>{let e=class e extends pe{constructor(n,i){super(),this.errorHandler=n,this.effectsErrorHandler=i}addEffects(n){this.next(n)}toActions(){return this.pipe(Be(n=>Pi(n)?Pn(n):n),$e(n=>n.pipe(Be(qi))),$e(n=>{let i=n.pipe(vt(s=>er(this.errorHandler,this.effectsErrorHandler)(s)),w(s=>(Ui(s,this.errorHandler),s.notification)),T(s=>s.kind==="N"&&s.value!=null),yt()),o=n.pipe(fe(1),T(Ji),w(s=>s.ngrxOnInitEffects()));return Z(i,o)}))}};e.\u0275fac=function(i){return new(i||e)(y(ye),y(Bi))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qi(t){return Xi(t)?t.ngrxOnIdentifyEffects():""}function er(t,e){return r=>{let n=$i(r,t,e);return Yi(r)?r.ngrxOnRunEffects(n):n}}var tr=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,i){this.effectSources=n,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(y(Vn),y(q))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hn(...t){let e=t.flat(),r=Ni(e);return K([r,{provide:_t,multi:!0,useValue:()=>{E(pn),E(fn,{optional:!0});let n=E(tr),i=E(Vn),o=!n.isStarted;o&&n.start();for(let s of e){let a=Nn(s)?E(s):s;i.addEffects(a)}o&&E(q).dispatch(Hi())}}])}var le="PERFORM_ACTION",ir="REFRESH",Xn="RESET",Kn="ROLLBACK",Yn="COMMIT",Qn="SWEEP",Jn="TOGGLE_ACTION",rr="SET_ACTIONS_ACTIVE",qn="JUMP_TO_STATE",ei="JUMP_TO_ACTION",ct="IMPORT_STATE",ti="LOCK_CHANGES",ni="PAUSE_RECORDING",te=class{constructor(e,r){if(this.action=e,this.timestamp=r,this.type=le,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Ye=class{constructor(){this.type=ir}},Qe=class{constructor(e){this.timestamp=e,this.type=Xn}},Je=class{constructor(e){this.timestamp=e,this.type=Kn}},qe=class{constructor(e){this.timestamp=e,this.type=Yn}},et=class{constructor(){this.type=Qn}},tt=class{constructor(e){this.id=e,this.type=Jn}};var nt=class{constructor(e){this.index=e,this.type=qn}},it=class{constructor(e){this.actionId=e,this.type=ei}},rt=class{constructor(e){this.nextLiftedState=e,this.type=ct}},ot=class{constructor(e){this.status=e,this.type=ti}},st=class{constructor(e){this.status=e,this.type=ni}};var ke=new j("@ngrx/store-devtools Options"),Un=new j("@ngrx/store-devtools Initial Config");function ii(){return null}var or="NgRx Store DevTools";function sr(t){let e={maxAge:!1,monitor:ii,actionSanitizer:void 0,stateSanitizer:void 0,name:or,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},r=typeof t=="function"?t():t,n=r.logOnly?{pause:!0,export:!0,test:!0}:!1,i=r.features||n||e.features;i.import===!0&&(i.import="custom");let o=Object.assign({},e,{features:i},r);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function zn(t,e){return t.filter(r=>e.indexOf(r)<0)}function ri(t){let{computedStates:e,currentStateIndex:r}=t;if(r>=e.length){let{state:i}=e[e.length-1];return i}let{state:n}=e[r];return n}function ce(t){return new te(t,+Date.now())}function ar(t,e){return Object.keys(e).reduce((r,n)=>{let i=Number(n);return r[i]=oi(t,e[i],i),r},{})}function oi(t,e,r){return M(b({},e),{action:t(e.action,r)})}function cr(t,e){return e.map((r,n)=>({state:si(t,r.state,n),error:r.error}))}function si(t,e,r){return t(e,r)}function ai(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function lr(t,e,r,n){let i=[],o={},s=[];return t.stagedActionIds.forEach((a,S)=>{let p=t.actionsById[a];p&&(S&&lt(t.computedStates[S],p,e,r,n)||(o[a]=p,i.push(a),s.push(t.computedStates[S])))}),M(b({},t),{stagedActionIds:i,actionsById:o,computedStates:s})}function lt(t,e,r,n,i){let o=r&&!r(t,e.action),s=n&&!e.action.type.match(n.map(S=>Gn(S)).join("|")),a=i&&e.action.type.match(i.map(S=>Gn(S)).join("|"));return o||s||a}function Gn(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ci(t){return{ngZone:t?E(ve):null,connectInZone:t}}var De=(()=>{let e=class e extends Ie{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ot(e)))(o||e)}})(),e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),Fe={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},at=new j("@ngrx/store-devtools Redux Devtools Extension"),li=(()=>{let e=class e{constructor(n,i,o){this.config=i,this.dispatcher=o,this.zoneConfig=ci(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,i){if(this.devtoolsExtension)if(n.type===le){if(i.isLocked||i.isPaused)return;let o=ri(i);if(ai(this.config)&&lt(o,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?si(this.config.stateSanitizer,o,i.currentStateIndex):o,a=this.config.actionSanitizer?oi(this.config.actionSanitizer,n,i.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,s))}else{let o=M(b({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?ar(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?cr(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,o,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ne(n=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(o=>n.next(o)),i.unsubscribe}):dt}createActionStreams(){let n=this.createChangesObservable().pipe(Et()),i=n.pipe(T(l=>l.type===Fe.START)),o=n.pipe(T(l=>l.type===Fe.STOP)),s=n.pipe(T(l=>l.type===Fe.DISPATCH),w(l=>this.unwrapAction(l.payload)),Le(l=>l.type===ct?this.dispatcher.pipe(T(c=>c.type===We),ht(1e3),X(1e3),w(()=>l),W(()=>ie(l)),fe(1)):ie(l))),S=n.pipe(T(l=>l.type===Fe.ACTION),w(l=>this.unwrapAction(l.payload))).pipe(me(o)),p=s.pipe(me(o));this.start$=i.pipe(me(o)),this.actions$=this.start$.pipe(re(()=>S)),this.liftedActions$=this.start$.pipe(re(()=>p))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let i={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(i.maxAge=n.maxAge),i}sendToReduxDevtools(n){try{n()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}};e.\u0275fac=function(i){return new(i||e)(y(at),y(ke),y(De))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),je={type:Ze},ur="@ngrx/store-devtools/recompute",pr={type:ur};function ui(t,e,r,n,i){if(n)return{state:r,error:"Interrupted by an error up the chain"};let o=r,s;try{o=t(r,e)}catch(a){s=a.toString(),i.handleError(a)}return{state:o,error:s}}function Re(t,e,r,n,i,o,s,a,S){if(e>=t.length&&t.length===o.length)return t;let p=t.slice(0,e),l=o.length-(S?1:0);for(let c=e;c<l;c++){let d=o[c],_=i[d].action,f=p[c-1],u=f?f.state:n,$=f?f.error:void 0,L=s.indexOf(d)>-1?f:ui(r,_,u,$,a);p.push(L)}return S&&p.push(t[t.length-1]),p}function fr(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:ce(je)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function dr(t,e,r,n,i={}){return o=>(s,a)=>{let{monitorState:S,actionsById:p,nextActionId:l,stagedActionIds:c,skippedActionIds:d,committedState:_,currentStateIndex:f,computedStates:u,isLocked:$,isPaused:O}=s||e;s||(p=Object.create(p));function L(C){let h=C,B=c.slice(1,h+1);for(let P=0;P<B.length;P++)if(u[P+1].error){h=P,B=c.slice(1,h+1);break}else delete p[B[P]];d=d.filter(P=>B.indexOf(P)===-1),c=[0,...c.slice(h+1)],_=u[h].state,u=u.slice(h),f=f>h?f-h:0}function G(){p={0:ce(je)},l=1,c=[0],d=[],_=u[f].state,f=0,u=[]}let m=0;switch(a.type){case ti:{$=a.status,m=1/0;break}case ni:{O=a.status,O?(c=[...c,l],p[l]=new te({type:"@ngrx/devtools/pause"},+Date.now()),l++,m=c.length-1,u=u.concat(u[u.length-1]),f===c.length-2&&f++,m=1/0):G();break}case Xn:{p={0:ce(je)},l=1,c=[0],d=[],_=t,f=0,u=[];break}case Yn:{G();break}case Kn:{p={0:ce(je)},l=1,c=[0],d=[],f=0,u=[];break}case Jn:{let{id:C}=a;d.indexOf(C)===-1?d=[C,...d]:d=d.filter(B=>B!==C),m=c.indexOf(C);break}case rr:{let{start:C,end:h,active:B}=a,P=[];for(let Pe=C;Pe<h;Pe++)P.push(Pe);B?d=zn(d,P):d=[...d,...P],m=c.indexOf(C);break}case qn:{f=a.index,m=1/0;break}case ei:{let C=c.indexOf(a.actionId);C!==-1&&(f=C),m=1/0;break}case Qn:{c=zn(c,d),d=[],f=Math.min(f,c.length-1);break}case le:{if($)return s||e;if(O||s&&lt(s.computedStates[f],a,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let h=u[u.length-1];u=[...u.slice(0,-1),ui(o,a.action,h.state,h.error,r)],m=1/0;break}i.maxAge&&c.length===i.maxAge&&L(1),f===c.length-1&&f++;let C=l++;p[C]=a,c=[...c,C],m=c.length-1;break}case ct:{({monitorState:S,actionsById:p,nextActionId:l,stagedActionIds:c,skippedActionIds:d,committedState:_,currentStateIndex:f,computedStates:u,isLocked:$,isPaused:O}=a.nextLiftedState);break}case Ze:{m=0,i.maxAge&&c.length>i.maxAge&&(u=Re(u,m,o,_,p,c,d,r,O),L(c.length-i.maxAge),m=1/0);break}case We:{if(u.filter(h=>h.error).length>0)m=0,i.maxAge&&c.length>i.maxAge&&(u=Re(u,m,o,_,p,c,d,r,O),L(c.length-i.maxAge),m=1/0);else{if(!O&&!$){f===c.length-1&&f++;let h=l++;p[h]=new te(a,+Date.now()),c=[...c,h],m=c.length-1,u=Re(u,m,o,_,p,c,d,r,O)}u=u.map(h=>M(b({},h),{state:o(h.state,pr)})),f=c.length-1,i.maxAge&&c.length>i.maxAge&&L(c.length-i.maxAge),m=1/0}break}default:{m=1/0;break}}return u=Re(u,m,o,_,p,c,d,r,O),S=n(S,a),{monitorState:S,actionsById:p,nextActionId:l,stagedActionIds:c,skippedActionIds:d,committedState:_,currentStateIndex:f,computedStates:u,isLocked:$,isPaused:O}}}var Zn=(()=>{let e=class e{constructor(n,i,o,s,a,S,p,l){let c=fr(p,l.monitor),d=dr(p,c,S,l.monitor,l),_=Z(Z(i.asObservable().pipe(It(1)),s.actions$).pipe(w(ce)),n,s.liftedActions$).pipe(mt(ft)),f=o.pipe(w(d)),u=ci(l.connectInZone),$=new pt(1);this.liftedStateSubscription=_.pipe(xt(f),Wn(u),Ct(({state:G},[m,C])=>{let h=C(G,m);return m.type!==le&&ai(l)&&(h=lr(h,l.predicate,l.actionsSafelist,l.actionsBlocklist)),s.notify(m,h),{state:h,action:m}},{state:c,action:null})).subscribe(({state:G,action:m})=>{if($.next(G),m.type===le){let C=m.action;a.next(C)}}),this.extensionStartSubscription=s.start$.pipe(Wn(u)).subscribe(()=>{this.refresh()});let O=$.asObservable(),L=O.pipe(w(ri));Object.defineProperty(L,"state",{value:cn(L,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=O,this.state=L}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new te(n,+Date.now()))}refresh(){this.dispatch(new Ye)}reset(){this.dispatch(new Qe(+Date.now()))}rollback(){this.dispatch(new Je(+Date.now()))}commit(){this.dispatch(new qe(+Date.now()))}sweep(){this.dispatch(new et)}toggleAction(n){this.dispatch(new tt(n))}jumpToAction(n){this.dispatch(new it(n))}jumpToState(n){this.dispatch(new nt(n))}importState(n){this.dispatch(new rt(n))}lockChanges(n){this.dispatch(new ot(n))}pauseRecording(n){this.dispatch(new st(n))}};e.\u0275fac=function(i){return new(i||e)(y(De),y(Ie),y(dn),y(li),y(be),y(ye),y(un),y(ke))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function Wn({ngZone:t,connectInZone:e}){return r=>e?new ne(n=>r.subscribe({next:i=>t.run(()=>n.next(i)),error:i=>t.run(()=>n.error(i)),complete:()=>t.run(()=>n.complete())})):r}var mr=new j("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function hr(t,e){return!!t||e.monitor!==ii}function gr(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function pi(t={}){return K([li,De,Zn,{provide:Un,useValue:t},{provide:mr,deps:[at,ke],useFactory:hr},{provide:at,useFactory:gr},{provide:ke,deps:[Un],useFactory:sr},{provide:hn,deps:[Zn],useFactory:yr},{provide:mn,useExisting:De}])}function yr(t){return t.state}var ue=(t,e)=>{let r=E(J),n=E(H),{isAuthenticated:i}=r,{url:o}=e;return o==="/login"?i?n.parseUrl("/main"):!0:i?!0:n.parseUrl("/login")};var fi=[{path:"",redirectTo:"/main",pathMatch:"full"},{path:"login",loadChildren:()=>import("./chunk-24ER7AMM.js").then(t=>t.AuthModule),canActivate:[ue]},{path:"main",loadChildren:()=>import("./chunk-IZ55M7HO.js").then(t=>t.YoutubeModule),canActivate:[ue]},{path:"admin",loadComponent:()=>import("./chunk-WACIJQKV.js").then(t=>t.AdminPageComponent),canActivate:[ue]},{path:"favorite",loadChildren:()=>import("./chunk-D5Y75MN3.js").then(t=>t.FavoriteModule),canActivate:[ue]},{path:"**",loadComponent:()=>import("./chunk-KB7VR3U2.js").then(t=>t.Page404Component)}];var ut={production:!1,API_URL:"https://www.googleapis.com/youtube/v3",API_KEY:"AIzaSyAtUxj6-WABCkDXyo8INRS97Ux3kBaSic4"};var di=(t,e)=>{let r=ut.API_URL,n=ut.API_KEY,i=t.clone({url:t.url.replace("/api",r),params:t.params.set("key",n)});return e(i)};var mi=t=>{class e extends ee{constructor(){super(...arguments),this.prefix=t?"[DEV]":"[PROD]"}logMessage(n){console.log(`${this.prefix} ${n}`)}}return new e};var hi=(()=>{let e=class e{constructor(n,i,o){this.actions$=n,this.cardDataService=i,this.store=o,this.loadCards$=Dn(()=>this.actions$.pipe(Bn(xe),re(s=>this.cardDataService.getCardsDataWithStatistics(s.query).pipe(w(a=>Ae({cards:a})),W(a=>ie(_e({error:a})))))))}};e.\u0275fac=function(i){return new(i||e)(y(Ln),y(En),y(q))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();var gi={videoEntities:{},customCards:[],videoIds:[],favoriteVideoIds:[],error:null};var vr=yn(gi,z(xe,t=>M(b({},t),{error:null})),z(Ae,(t,{cards:e})=>{let r=e.reduce((i,o)=>M(b({},i),{[o.id.videoId]:o}),{}),n=e.map(i=>i.id.videoId);return M(b({},t),{videoEntities:b(b({},t.videoEntities),r),videoIds:n})}),z(_e,(t,{error:e})=>M(b({},t),{error:e.message})),z(vn,(t,{card:e})=>M(b({},t),{customCards:[e,...t.customCards]})),z(Sn,(t,{cardId:e})=>M(b({},t),{customCards:t.customCards.filter(r=>r.id!==e)})),z(Cn,(t,{videoId:e})=>{let n=t.favoriteVideoIds.includes(e)?t.favoriteVideoIds.filter(i=>i!==e):[...t.favoriteVideoIds,e];return M(b({},t),{favoriteVideoIds:n})}));function yi(t,e){return vr(t,e)}var vi={providers:[Bt({eventCoalescing:!0}),Qt(fi),jn(),zt(Gt([di])),{provide:ee,useFactory:()=>mi(Ge())},gn({cardState:yi}),Hn([hi]),pi({maxAge:25,logOnly:!Ge(),autoPause:!0,trace:!0,traceLimit:75,connectInZone:!0})]};Wt(Rn,vi).catch(t=>console.error(t));
