import{a as Oe,b as En}from"./chunk-4TVEZW65.js";import{a as ee}from"./chunk-PURKYIMI.js";import{a as J,b as Ce,d as Ee,e as qt,g as en,h as tn,i as nn,j as rn,k as on,q as sn,r as an}from"./chunk-RSOJWPTC.js";import"./chunk-4NDBE4LN.js";import{a as cn,b as ln,c as Ze,d as be,e as un,f as fn,g as pn,h as dn,i as mn,j as We,k as Ie,l as hn,m as q,p as gn,q as U,r as yn,s as xe,t as Ae,u as _e,v as vn,w as Sn,x as Cn}from"./chunk-WRO4K3SO.js";import{c as Ut,d as Gt,e as Zt,f as Wt,g as Kt,i as Xt,j as z,k as Yt,l as Qt,m as Jt,n as H}from"./chunk-USKRQM6E.js";import{d as Vt,m as zt,n as Ht,q as Se}from"./chunk-66P2APN2.js";import{$ as It,$a as jt,Aa as Ve,Ab as kt,Ba as ze,Bb as N,C as Z,Ca as Ot,Cb as Dt,D as M,Da as wt,E as W,Eb as Pt,F as Le,Fb as Nt,G as K,Ga as ye,Gb as $t,I as pe,Ib as x,J as gt,Jb as oe,L as yt,M as de,Mb as se,N as vt,Nb as ae,Pa as Mt,Q as Be,Qb as Lt,T as St,Ua as k,V as Ct,Va as Y,W as Et,Wa as Tt,X as bt,Ya as Ft,Yb as Bt,Z as re,Za as Rt,_ as me,_b as Ge,a as A,aa as xt,ab as ve,b as R,ba as At,ea as T,fa as he,g as ne,ha as j,j as fe,ja as y,jb as Q,k as Ne,ka as E,l as ft,lb as D,m as pt,n as dt,nb as v,o as mt,oa as _t,ob as g,pb as b,q as ie,qa as I,ra as ge,sb as He,u as ht,ua as X,v as O,vb as V,wb as Ue,x as $e}from"./chunk-H4LMUWBJ.js";var bn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=I({type:e,selectors:[["app-footer"]],standalone:!0,features:[x],decls:1,vars:0,template:function(i,o){i&1&&b(0,"p")}});let t=e;return t})();var xn=(()=>{let e=class e{constructor(n){this.router=n,this.isFilterShown$$=new Ne(!1),this.isSettingsVisible$$=new Ne(!0),this.router.events.pipe(M(i=>i instanceof Kt),O(i=>!i.urlAfterRedirects.startsWith("/main/details/"))).subscribe(i=>{this.isSettingsVisible$$.next(i),i||this.isFilterShown$$.next(!1)})}toggleFilter(){this.isFilterShown$$.next(!this.isFilterShown$$.getValue())}};e.\u0275fac=function(i){return new(i||e)(y(z))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var An=(()=>{let e=class e{constructor(){this.searchService=E(Oe),this.filterControl=new tn("")}ngOnInit(){this.filterControl.valueChanges.pipe(K(300),de(),It(n=>{n!==null&&this.searchService.updateFilterWord(n)})).subscribe()}onDateClick(){this.searchService.updateDateSortClick()}onViewsClick(){this.searchService.updateViewSortClick()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=I({type:e,selectors:[["app-filter"]],standalone:!0,features:[x],decls:12,vars:1,consts:[[1,"filters"],[1,"filters-title"],[1,"filters-list"],[1,"filters-list__item",3,"click"],[1,"filters-form"],["for","filter-input",1,"filters-form__label"],["type","text","id","filter-input",1,"filters-form__input",3,"formControl"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"p",1),N(2,"Sorting by:"),g(),v(3,"div",2)(4,"button",3),V("click",function(){return o.onDateClick()}),N(5,"date"),g(),v(6,"button",3),V("click",function(){return o.onViewsClick()}),N(7," count of views "),g(),v(8,"div",4)(9,"label",5),N(10,"by word or sentance"),g(),b(11,"input",6),g()()()),i&2&&(k(11),D("formControl",o.filterControl))},dependencies:[an,Ce,Ee,on],styles:[".filters[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1.8rem 2rem;gap:1.1rem;font-size:1.2rem;background-color:var(--bg-color)}.filters-title[_ngcontent-%COMP%]{color:var(--light-text-color)}.filters-list[_ngcontent-%COMP%]{display:flex;gap:2.1rem}.filters-list__item[_ngcontent-%COMP%]{border:none;background-color:transparent;color:var(--accent-color);cursor:pointer}.filters-list__item[_ngcontent-%COMP%]:hover, .filters-list__item[_ngcontent-%COMP%]:active{text-decoration:underline}.filters-form[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;color:var(--accent-color)}.filters-form__input[_ngcontent-%COMP%]{border:none;padding:.5rem}.filters-form__input[_ngcontent-%COMP%]:focus{outline-color:var(--accent-color)}"]});let t=e;return t})();var _n=(()=>{let e=class e{constructor(){this.title="Your Name"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=I({type:e,selectors:[["app-login-info"]],standalone:!0,features:[x],decls:4,vars:1,consts:[[1,"login-info__text"],["btnAppearance","small"],[1,"login-info__img"]],template:function(i,o){i&1&&(v(0,"p",0),N(1),g(),v(2,"app-button",1),b(3,"span",2),g()),i&2&&(k(),Dt(o.title))},dependencies:[H],styles:['[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.8rem}[_nghost-%COMP%]   .login-info__img[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url("./media/login-MBNI3CUX.png");background-repeat:no-repeat;background-position:center;background-size:100%}']});let t=e;return t})();var On=(()=>{let e=class e{constructor(n,i,o){this.searchService=n,this.router=i,this.authService=o,this.searchQuery="",this.searchSubject=new fe,this.isAuthenticated=!1,this.isAuthenticated$=this.authService.isAuthenticated$}ngOnInit(){this.isAuthenticated$.subscribe(n=>{this.isAuthenticated=n}),this.searchSubject.pipe(M(n=>n.length>=3||n.trim()===""),K(300),de()).subscribe(n=>{this.isAuthenticated&&this.searchService.searchCards(n)})}onSearchChange(n){this.searchSubject.next(n),this.router.navigate(["/main"])}get isSearchInputDisabled(){return!this.isAuthenticated}};e.\u0275fac=function(i){return new(i||e)(Y(Oe),Y(z),Y(J))},e.\u0275cmp=I({type:e,selectors:[["app-search-input"]],standalone:!0,features:[x],decls:2,vars:2,consts:[[1,"search-form"],["type","search","placeholder","What are you want to find out?","name","searchQuery","name","searchQuery",1,"search-form__input",3,"ngModelChange","ngModel","disabled"]],template:function(i,o){i&1&&(v(0,"form",0)(1,"input",1),$t("ngModelChange",function(a){return Nt(o.searchQuery,a)||(o.searchQuery=a),a}),V("ngModelChange",function(a){return o.onSearchChange(a)}),g()()),i&2&&(k(),Pt("ngModel",o.searchQuery),D("disabled",!o.isAuthenticated))},dependencies:[sn,rn,Ce,Ee,qt,nn,en],styles:[".search-form[_ngcontent-%COMP%]{display:flex;width:100%}.search-form__input[_ngcontent-%COMP%]{padding:.5rem 1.3rem;width:39.6rem;height:2.4rem;border:none;background-color:var(--light-input-bg)}.search-form__input[_ngcontent-%COMP%]:focus{outline-color:var(--accent-color)}.search-form__input[_ngcontent-%COMP%]::-webkit-search-cancel-button{cursor:pointer}.search-form__input[_ngcontent-%COMP%]:disabled{background-color:var(--bg-color);cursor:default;border:.1rem solid var(--light-text-color)}"]});let t=e;return t})();var wn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=I({type:e,selectors:[["app-setting-img"]],standalone:!0,features:[x],decls:2,vars:0,consts:[["width","15","height","15","viewBox","0 0 15 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.5613 13.1136C9.78485 12.5128 10.2933 12.0909 10.8846 12.0909C11.476 12.0909 11.9844 12.5128 12.2079 13.1136H14.9231C15.2404 13.1136 15.5 13.4205 15.5 13.7955C15.5 14.1705 15.2404 14.4773 14.9231 14.4773H12.2079C11.9844 15.0781 11.476 15.5 10.8846 15.5C10.2933 15.5 9.78485 15.0781 9.5613 14.4773H1.07692C0.759615 14.4773 0.5 14.1705 0.5 13.7955C0.5 13.4205 0.759615 13.1136 1.07692 13.1136H9.5613ZM3.79207 7.31818C4.01563 6.71733 4.52404 6.29545 5.11538 6.29545C5.70673 6.29545 6.21514 6.71733 6.4387 7.31818H14.9231C15.2404 7.31818 15.5 7.625 15.5 8C15.5 8.375 15.2404 8.68182 14.9231 8.68182H6.4387C6.21514 9.28267 5.70673 9.70455 5.11538 9.70455C4.52404 9.70455 4.01563 9.28267 3.79207 8.68182H1.07692C0.759615 8.68182 0.5 8.375 0.5 8C0.5 7.625 0.759615 7.31818 1.07692 7.31818H3.79207ZM9.5613 1.52273C9.78485 0.921875 10.2933 0.5 10.8846 0.5C11.476 0.5 11.9844 0.921875 12.2079 1.52273H14.9231C15.2404 1.52273 15.5 1.82955 15.5 2.20455C15.5 2.57955 15.2404 2.88636 14.9231 2.88636H12.2079C11.9844 3.48722 11.476 3.90909 10.8846 3.90909C10.2933 3.90909 9.78485 3.48722 9.5613 2.88636H1.07692C0.759615 2.88636 0.5 2.57955 0.5 2.20455C0.5 1.82955 0.759615 1.52273 1.07692 1.52273H9.5613Z","fill","white"]],template:function(i,o){i&1&&(Ot(),v(0,"svg",0),b(1,"path",1),g())},encapsulation:2});let t=e;return t})();var Mn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=I({type:e,selectors:[["app-settings-button"]],standalone:!0,features:[x],decls:2,vars:0,consts:[["btnAppearance","small"]],template:function(i,o){i&1&&(v(0,"app-button",0),b(1,"app-setting-img"),g())},dependencies:[H,wn]});let t=e;return t})();var Tn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=I({type:e,selectors:[["app-favorite-button"]],standalone:!0,features:[x],decls:2,vars:0,consts:[["btnAppearance","small"],[1,"favorite__img"]],template:function(i,o){i&1&&(v(0,"app-button",0),b(1,"span",1),g())},dependencies:[H],styles:['.favorite__img[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url("./media/favorite-btn-5ZXGM5WX.svg");background-repeat:no-repeat;background-position:center;background-size:100%}']});let t=e;return t})();var Ei=()=>["/"],bi=()=>["/favorite"],Ii=()=>["/admin"],xi=()=>["/login"];function Ai(t,e){if(t&1){let r=He();v(0,"app-settings-button",11),V("click",function(){Ve(r);let i=Ue();return ze(i.toggleFilter())}),g()}}function _i(t,e){t&1&&(v(0,"app-button",12),N(1,"Admin"),g()),t&2&&D("routerLink",oe(1,Ii))}function Oi(t,e){if(t&1){let r=He();v(0,"app-button",13),V("click",function(){Ve(r);let i=Ue();return ze(i.logout())}),N(1," Logout "),g()}}function wi(t,e){t&1&&(v(0,"app-button",12),N(1," Login "),g()),t&2&&D("routerLink",oe(1,xi))}function Mi(t,e){t&1&&b(0,"app-filter")}var we=(()=>{let e=class e{constructor(){this.authService=E(J),this.headerService=E(xn),this.router=E(z),this.isSettingsVisible$=this.headerService.isSettingsVisible$$,this.isFilterShown$=this.headerService.isFilterShown$$,this.isAuthenticated$=this.authService.isAuthenticated$}toggleFilter(){this.headerService.toggleFilter()}logout(){this.authService.logout()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=I({type:e,selectors:[["app-header"]],standalone:!0,features:[x],decls:18,vars:17,consts:[["loginBtn",""],[1,"header"],[1,"header__content"],[1,"header__search-content"],["src","logo.svg","alt","youtube logo",1,"header__logo",3,"routerLink"],[3,"click",4,"ngIf"],[1,"header__login"],[3,"routerLink"],["btnAppearance","middle",3,"routerLink",4,"ngIf"],["btnAppearance","middle",3,"click",4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"click"],["btnAppearance","middle",3,"routerLink"],["btnAppearance","middle",3,"click"]],template:function(i,o){if(i&1&&(v(0,"header",1)(1,"div",2)(2,"div",3),b(3,"img",4)(4,"app-search-input"),Q(5,Ai,1,0,"app-settings-button",5),se(6,"async"),g(),v(7,"div",6),b(8,"app-login-info")(9,"app-favorite-button",7),Q(10,_i,2,2,"app-button",8),se(11,"async"),Q(12,Oi,2,0,"app-button",9),se(13,"async"),Q(14,wi,2,2,"ng-template",null,0,Lt),g()(),Q(16,Mi,1,0,"app-filter",10),se(17,"async"),g()),i&2){let s=kt(15);k(3),D("routerLink",oe(15,Ei)),k(2),D("ngIf",ae(6,7,o.isSettingsVisible$)),k(4),D("routerLink",oe(16,bi)),k(),D("ngIf",ae(11,9,o.isAuthenticated$)),k(2),D("ngIf",ae(13,11,o.isAuthenticated$))("ngIfElse",s),k(4),D("ngIf",ae(17,13,o.isFilterShown$))}},dependencies:[On,_n,Se,zt,Ht,Mn,Tn,H,An,Jt,Yt],styles:[".header[_ngcontent-%COMP%]{background-color:var(--bg-color)}.header__content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;gap:1rem;max-width:144rem;padding:1.5rem 15.6rem 1.5rem 2rem}.header__search-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;flex-grow:1}.header__logo[_ngcontent-%COMP%]{height:5rem;width:5rem;cursor:pointer}.header__login[_ngcontent-%COMP%]{display:flex;gap:3rem}@media (max-width: 1024px){.header__content[_ngcontent-%COMP%]{flex-direction:column;padding:2rem}}"]});let t=e;return t})();var Me=class{constructor(e){if(e)throw new Error(`${e.constructor.name} has already been loaded. Import this module in the AppModule only.`)}};var Fn=(()=>{let e=class e extends Me{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(y(e,12))},e.\u0275mod=ge({type:e}),e.\u0275inj=he({imports:[Se,we]});let t=e;return t})();var Rn=(()=>{let e=class e{constructor(n){this.logger=n,this.logger.logMessage("AppComponent initialized")}};e.\u0275fac=function(i){return new(i||e)(Y(ee))},e.\u0275cmp=I({type:e,selectors:[["app-root"]],standalone:!0,features:[x],decls:4,vars:0,template:function(i,o){i&1&&(b(0,"app-header"),v(1,"main"),b(2,"router-outlet"),g(),b(3,"app-footer"))},dependencies:[Xt,Fn,we,bn],encapsulation:2});let t=e;return t})();var Fi="@",Ri=(()=>{let e=class e{constructor(n,i,o,s,a){this.doc=n,this.delegate=i,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=E(Ft,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-YW422XEM.js").then(i=>i)).catch(i=>{throw new At(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,i){let o=this.delegate.createRenderer(n,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new Ke(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let S=a.createRenderer(n,i);s.use(S),this.scheduler?.notify(9)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(i){Tt()},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Ke=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let r of this.replay)r(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,r){this.delegate.appendChild(e,r)}insertBefore(e,r,n,i){this.delegate.insertBefore(e,r,n,i)}removeChild(e,r,n){this.delegate.removeChild(e,r,n)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,n,i){this.delegate.setAttribute(e,r,n,i)}removeAttribute(e,r,n){this.delegate.removeAttribute(e,r,n)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,n,i){this.delegate.setStyle(e,r,n,i)}removeStyle(e,r,n){this.delegate.removeStyle(e,r,n)}setProperty(e,r,n){this.shouldReplay(r)&&this.replay.push(i=>i.setProperty(e,r,n)),this.delegate.setProperty(e,r,n)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,n){return this.shouldReplay(r)&&this.replay.push(i=>i.listen(e,r,n)),this.delegate.listen(e,r,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(Fi)}};function jn(t="animations"){return jt("NgAsyncAnimations"),X([{provide:Rt,useFactory:(e,r,n)=>new Ri(e,r,n,t),deps:[Vt,Zt,ve]},{provide:Mt,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ji={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Te="__@ngrx/effects_create__";function Dn(t,e={}){let r=e.functional?t:t(),n=A(A({},ji),e);return Object.defineProperty(r,Te,{value:n}),r}function ki(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(Te)?t[n][Te].hasOwnProperty("dispatch"):!1).map(n=>{let i=t[n][Te];return A({propertyName:n},i)})}function Di(t){return ki(t)}function Pn(t){return Object.getPrototypeOf(t)}function Pi(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function Nn(t){return typeof t=="function"}function Ni(t){return t.filter(Nn)}function $i(t,e,r){let n=Pn(t),o=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,s=Di(t).map(({propertyName:a,dispatch:S,useEffectsErrorHandler:f})=>{let l=typeof t[a]=="function"?t[a]():t[a],c=f?r(l,e):l;return S===!1?c.pipe(gt()):c.pipe(St()).pipe(O(_=>({effect:t[a],notification:_,propertyName:a,sourceName:o,sourceInstance:t})))});return Z(...s)}var Li=10;function $n(t,e,r=Li){return t.pipe(W(n=>(e&&e.handleError(n),r<=1?t:$n(t,e,r-1))))}var Ln=(()=>{let e=class e extends ne{constructor(n){super(),n&&(this.source=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}};e.\u0275fac=function(i){return new(i||e)(y(Ie))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bn(...t){return M(e=>t.some(r=>typeof r=="string"?r===e.type:r.type===e.type))}var Ro=new j("@ngrx/effects Internal Root Guard"),jo=new j("@ngrx/effects User Provided Effects"),ko=new j("@ngrx/effects Internal Root Effects"),Do=new j("@ngrx/effects Internal Root Effects Instances"),Po=new j("@ngrx/effects Internal Feature Effects"),No=new j("@ngrx/effects Internal Feature Effects Instance Groups"),Bi=new j("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>$n}),Vi="@ngrx/effects/init",zi=ln(Vi);function Hi(t,e){if(t.notification.kind==="N"){let r=t.notification.value;!Ui(r)&&e.handleError(new Error(`Effect ${Gi(t)} dispatched an invalid action: ${Zi(r)}`))}}function Ui(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function Gi({propertyName:t,sourceInstance:e,sourceName:r}){let n=typeof e[t]=="function";return!!r?`"${r}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function Zi(t){try{return JSON.stringify(t)}catch{return t}}var Wi="ngrxOnIdentifyEffects";function Ki(t){return Xe(t,Wi)}var Xi="ngrxOnRunEffects";function Yi(t){return Xe(t,Xi)}var Qi="ngrxOnInitEffects";function Ji(t){return Xe(t,Qi)}function Xe(t,e){return t&&e in t&&typeof t[e]=="function"}var Vn=(()=>{let e=class e extends fe{constructor(n,i){super(),this.errorHandler=n,this.effectsErrorHandler=i}addEffects(n){this.next(n)}toActions(){return this.pipe(Be(n=>Pi(n)?Pn(n):n),$e(n=>n.pipe(Be(qi))),$e(n=>{let i=n.pipe(vt(s=>er(this.errorHandler,this.effectsErrorHandler)(s)),O(s=>(Hi(s,this.errorHandler),s.notification)),M(s=>s.kind==="N"&&s.value!=null),yt()),o=n.pipe(pe(1),M(Ji),O(s=>s.ngrxOnInitEffects()));return Z(i,o)}))}};e.\u0275fac=function(i){return new(i||e)(y(ye),y(Bi))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qi(t){return Ki(t)?t.ngrxOnIdentifyEffects():""}function er(t,e){return r=>{let n=$i(r,t,e);return Yi(r)?r.ngrxOnRunEffects(n):n}}var tr=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,i){this.effectSources=n,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(y(Vn),y(q))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zn(...t){let e=t.flat(),r=Ni(e);return X([r,{provide:_t,multi:!0,useValue:()=>{E(fn),E(pn,{optional:!0});let n=E(tr),i=E(Vn),o=!n.isStarted;o&&n.start();for(let s of e){let a=Nn(s)?E(s):s;i.addEffects(a)}o&&E(q).dispatch(zi())}}])}var ce=(t,e)=>{let r=E(J),n=E(z),{isAuthenticated:i}=r,{url:o}=e;return o==="/login"?i?n.parseUrl("/main"):!0:i?!0:n.parseUrl("/login")};var Hn=[{path:"",redirectTo:"/main",pathMatch:"full"},{path:"login",loadChildren:()=>import("./chunk-2VRKQW7W.js").then(t=>t.AuthModule),canActivate:[ce]},{path:"main",loadChildren:()=>import("./chunk-UIQVHG2J.js").then(t=>t.YoutubeModule),canActivate:[ce]},{path:"admin",loadComponent:()=>import("./chunk-JFSZHND4.js").then(t=>t.AdminPageComponent),canActivate:[ce]},{path:"favorite",loadChildren:()=>import("./chunk-4QNVEOPX.js").then(t=>t.FavoriteModule),canActivate:[ce]},{path:"**",loadComponent:()=>import("./chunk-RIJTTKLC.js").then(t=>t.Page404Component)}];var Ye={production:!1,API_URL:"https://www.googleapis.com/youtube/v3",API_KEY:"AIzaSyD-nivXozx18FubeoKoOsZOpu0C2Tz6sQ0"};var Un=(t,e)=>{let r=Ye.API_URL,n=Ye.API_KEY,i=t.clone({url:t.url.replace("/api",r),params:t.params.set("key",n)});return e(i)};var Gn=t=>{class e extends ee{constructor(){super(...arguments),this.prefix=t?"[DEV]":"[PROD]"}logMessage(n){console.log(`${this.prefix} ${n}`)}}return new e};var Zn={cards:[],customCards:[],favoriteCards:[],favoriteVideoIds:[],error:null,nextPageToken:""};var ir=yn(Zn,U(xe,t=>R(A({},t),{error:null})),U(Ae,(t,{cards:e})=>R(A({},t),{cards:e})),U(_e,(t,{error:e})=>(console.error("Reducer error:",e),R(A({},t),{error:e.message}))),U(vn,(t,{card:e})=>R(A({},t),{customCards:[e,...t.customCards]})),U(Sn,(t,{cardId:e})=>R(A({},t),{customCards:t.customCards.filter(r=>r.id!==e)})),U(Cn,(t,{videoId:e})=>{let r=t.favoriteVideoIds.includes(e),n=r?t.favoriteVideoIds.filter(o=>o!==e):[...t.favoriteVideoIds,e],i=r?t.favoriteCards.filter(o=>o.id.videoId!==e):[...t.favoriteCards,...t.cards.filter(o=>o.id.videoId===e)];return R(A({},t),{favoriteVideoIds:n,favoriteCards:i})}));function Wn(t,e){return ir(t,e)}var Kn=(()=>{let e=class e{constructor(n,i,o){this.actions$=n,this.cardDataService=i,this.store=o,this.loadCards$=Dn(()=>this.actions$.pipe(Bn(xe),re(s=>this.cardDataService.getCardsDataWithStatistics(s.query).pipe(O(a=>Ae({cards:a})),W(a=>(console.error("Error loading cards:",a),ie(_e({error:a}))))))))}};e.\u0275fac=function(i){return new(i||e)(y(Ln),y(En),y(q))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();var ue="PERFORM_ACTION",rr="REFRESH",ei="RESET",ti="ROLLBACK",ni="COMMIT",ii="SWEEP",ri="TOGGLE_ACTION",or="SET_ACTIONS_ACTIVE",oi="JUMP_TO_STATE",si="JUMP_TO_ACTION",lt="IMPORT_STATE",ai="LOCK_CHANGES",ci="PAUSE_RECORDING",te=class{constructor(e,r){if(this.action=e,this.timestamp=r,this.type=ue,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Qe=class{constructor(){this.type=rr}},Je=class{constructor(e){this.timestamp=e,this.type=ei}},qe=class{constructor(e){this.timestamp=e,this.type=ti}},et=class{constructor(e){this.timestamp=e,this.type=ni}},tt=class{constructor(){this.type=ii}},nt=class{constructor(e){this.id=e,this.type=ri}};var it=class{constructor(e){this.index=e,this.type=oi}},rt=class{constructor(e){this.actionId=e,this.type=si}},ot=class{constructor(e){this.nextLiftedState=e,this.type=lt}},st=class{constructor(e){this.status=e,this.type=ai}},at=class{constructor(e){this.status=e,this.type=ci}};var ke=new j("@ngrx/store-devtools Options"),Xn=new j("@ngrx/store-devtools Initial Config");function li(){return null}var sr="NgRx Store DevTools";function ar(t){let e={maxAge:!1,monitor:li,actionSanitizer:void 0,stateSanitizer:void 0,name:sr,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},r=typeof t=="function"?t():t,n=r.logOnly?{pause:!0,export:!0,test:!0}:!1,i=r.features||n||e.features;i.import===!0&&(i.import="custom");let o=Object.assign({},e,{features:i},r);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function Yn(t,e){return t.filter(r=>e.indexOf(r)<0)}function ui(t){let{computedStates:e,currentStateIndex:r}=t;if(r>=e.length){let{state:i}=e[e.length-1];return i}let{state:n}=e[r];return n}function le(t){return new te(t,+Date.now())}function cr(t,e){return Object.keys(e).reduce((r,n)=>{let i=Number(n);return r[i]=fi(t,e[i],i),r},{})}function fi(t,e,r){return R(A({},e),{action:t(e.action,r)})}function lr(t,e){return e.map((r,n)=>({state:pi(t,r.state,n),error:r.error}))}function pi(t,e,r){return t(e,r)}function di(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function ur(t,e,r,n){let i=[],o={},s=[];return t.stagedActionIds.forEach((a,S)=>{let f=t.actionsById[a];f&&(S&&ut(t.computedStates[S],f,e,r,n)||(o[a]=f,i.push(a),s.push(t.computedStates[S])))}),R(A({},t),{stagedActionIds:i,actionsById:o,computedStates:s})}function ut(t,e,r,n,i){let o=r&&!r(t,e.action),s=n&&!e.action.type.match(n.map(S=>Qn(S)).join("|")),a=i&&e.action.type.match(i.map(S=>Qn(S)).join("|"));return o||s||a}function Qn(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mi(t){return{ngZone:t?E(ve):null,connectInZone:t}}var De=(()=>{let e=class e extends be{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=wt(e)))(o||e)}})(),e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Fe={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},ct=new j("@ngrx/store-devtools Redux Devtools Extension"),hi=(()=>{let e=class e{constructor(n,i,o){this.config=i,this.dispatcher=o,this.zoneConfig=mi(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,i){if(this.devtoolsExtension)if(n.type===ue){if(i.isLocked||i.isPaused)return;let o=ui(i);if(di(this.config)&&ut(o,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?pi(this.config.stateSanitizer,o,i.currentStateIndex):o,a=this.config.actionSanitizer?fi(this.config.actionSanitizer,n,i.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,s))}else{let o=R(A({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?cr(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?lr(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,o,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ne(n=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(o=>n.next(o)),i.unsubscribe}):dt}createActionStreams(){let n=this.createChangesObservable().pipe(Et()),i=n.pipe(M(l=>l.type===Fe.START)),o=n.pipe(M(l=>l.type===Fe.STOP)),s=n.pipe(M(l=>l.type===Fe.DISPATCH),O(l=>this.unwrapAction(l.payload)),Le(l=>l.type===lt?this.dispatcher.pipe(M(c=>c.type===We),ht(1e3),K(1e3),O(()=>l),W(()=>ie(l)),pe(1)):ie(l))),S=n.pipe(M(l=>l.type===Fe.ACTION),O(l=>this.unwrapAction(l.payload))).pipe(me(o)),f=s.pipe(me(o));this.start$=i.pipe(me(o)),this.actions$=this.start$.pipe(re(()=>S)),this.liftedActions$=this.start$.pipe(re(()=>f))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let i={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(i.maxAge=n.maxAge),i}sendToReduxDevtools(n){try{n()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}};e.\u0275fac=function(i){return new(i||e)(y(ct),y(ke),y(De))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),je={type:Ze},fr="@ngrx/store-devtools/recompute",pr={type:fr};function gi(t,e,r,n,i){if(n)return{state:r,error:"Interrupted by an error up the chain"};let o=r,s;try{o=t(r,e)}catch(a){s=a.toString(),i.handleError(a)}return{state:o,error:s}}function Re(t,e,r,n,i,o,s,a,S){if(e>=t.length&&t.length===o.length)return t;let f=t.slice(0,e),l=o.length-(S?1:0);for(let c=e;c<l;c++){let d=o[c],_=i[d].action,p=f[c-1],u=p?p.state:n,$=p?p.error:void 0,L=s.indexOf(d)>-1?p:gi(r,_,u,$,a);f.push(L)}return S&&f.push(t[t.length-1]),f}function dr(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:le(je)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function mr(t,e,r,n,i={}){return o=>(s,a)=>{let{monitorState:S,actionsById:f,nextActionId:l,stagedActionIds:c,skippedActionIds:d,committedState:_,currentStateIndex:p,computedStates:u,isLocked:$,isPaused:w}=s||e;s||(f=Object.create(f));function L(C){let h=C,B=c.slice(1,h+1);for(let P=0;P<B.length;P++)if(u[P+1].error){h=P,B=c.slice(1,h+1);break}else delete f[B[P]];d=d.filter(P=>B.indexOf(P)===-1),c=[0,...c.slice(h+1)],_=u[h].state,u=u.slice(h),p=p>h?p-h:0}function G(){f={0:le(je)},l=1,c=[0],d=[],_=u[p].state,p=0,u=[]}let m=0;switch(a.type){case ai:{$=a.status,m=1/0;break}case ci:{w=a.status,w?(c=[...c,l],f[l]=new te({type:"@ngrx/devtools/pause"},+Date.now()),l++,m=c.length-1,u=u.concat(u[u.length-1]),p===c.length-2&&p++,m=1/0):G();break}case ei:{f={0:le(je)},l=1,c=[0],d=[],_=t,p=0,u=[];break}case ni:{G();break}case ti:{f={0:le(je)},l=1,c=[0],d=[],p=0,u=[];break}case ri:{let{id:C}=a;d.indexOf(C)===-1?d=[C,...d]:d=d.filter(B=>B!==C),m=c.indexOf(C);break}case or:{let{start:C,end:h,active:B}=a,P=[];for(let Pe=C;Pe<h;Pe++)P.push(Pe);B?d=Yn(d,P):d=[...d,...P],m=c.indexOf(C);break}case oi:{p=a.index,m=1/0;break}case si:{let C=c.indexOf(a.actionId);C!==-1&&(p=C),m=1/0;break}case ii:{c=Yn(c,d),d=[],p=Math.min(p,c.length-1);break}case ue:{if($)return s||e;if(w||s&&ut(s.computedStates[p],a,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let h=u[u.length-1];u=[...u.slice(0,-1),gi(o,a.action,h.state,h.error,r)],m=1/0;break}i.maxAge&&c.length===i.maxAge&&L(1),p===c.length-1&&p++;let C=l++;f[C]=a,c=[...c,C],m=c.length-1;break}case lt:{({monitorState:S,actionsById:f,nextActionId:l,stagedActionIds:c,skippedActionIds:d,committedState:_,currentStateIndex:p,computedStates:u,isLocked:$,isPaused:w}=a.nextLiftedState);break}case Ze:{m=0,i.maxAge&&c.length>i.maxAge&&(u=Re(u,m,o,_,f,c,d,r,w),L(c.length-i.maxAge),m=1/0);break}case We:{if(u.filter(h=>h.error).length>0)m=0,i.maxAge&&c.length>i.maxAge&&(u=Re(u,m,o,_,f,c,d,r,w),L(c.length-i.maxAge),m=1/0);else{if(!w&&!$){p===c.length-1&&p++;let h=l++;f[h]=new te(a,+Date.now()),c=[...c,h],m=c.length-1,u=Re(u,m,o,_,f,c,d,r,w)}u=u.map(h=>R(A({},h),{state:o(h.state,pr)})),p=c.length-1,i.maxAge&&c.length>i.maxAge&&L(c.length-i.maxAge),m=1/0}break}default:{m=1/0;break}}return u=Re(u,m,o,_,f,c,d,r,w),S=n(S,a),{monitorState:S,actionsById:f,nextActionId:l,stagedActionIds:c,skippedActionIds:d,committedState:_,currentStateIndex:p,computedStates:u,isLocked:$,isPaused:w}}}var Jn=(()=>{let e=class e{constructor(n,i,o,s,a,S,f,l){let c=dr(f,l.monitor),d=mr(f,c,S,l.monitor,l),_=Z(Z(i.asObservable().pipe(bt(1)),s.actions$).pipe(O(le)),n,s.liftedActions$).pipe(mt(pt)),p=o.pipe(O(d)),u=mi(l.connectInZone),$=new ft(1);this.liftedStateSubscription=_.pipe(xt(p),qn(u),Ct(({state:G},[m,C])=>{let h=C(G,m);return m.type!==ue&&di(l)&&(h=ur(h,l.predicate,l.actionsSafelist,l.actionsBlocklist)),s.notify(m,h),{state:h,action:m}},{state:c,action:null})).subscribe(({state:G,action:m})=>{if($.next(G),m.type===ue){let C=m.action;a.next(C)}}),this.extensionStartSubscription=s.start$.pipe(qn(u)).subscribe(()=>{this.refresh()});let w=$.asObservable(),L=w.pipe(O(ui));Object.defineProperty(L,"state",{value:cn(L,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=w,this.state=L}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new te(n,+Date.now()))}refresh(){this.dispatch(new Qe)}reset(){this.dispatch(new Je(+Date.now()))}rollback(){this.dispatch(new qe(+Date.now()))}commit(){this.dispatch(new et(+Date.now()))}sweep(){this.dispatch(new tt)}toggleAction(n){this.dispatch(new nt(n))}jumpToAction(n){this.dispatch(new rt(n))}jumpToState(n){this.dispatch(new it(n))}importState(n){this.dispatch(new ot(n))}lockChanges(n){this.dispatch(new st(n))}pauseRecording(n){this.dispatch(new at(n))}};e.\u0275fac=function(i){return new(i||e)(y(De),y(be),y(dn),y(hi),y(Ie),y(ye),y(un),y(ke))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function qn({ngZone:t,connectInZone:e}){return r=>e?new ne(n=>r.subscribe({next:i=>t.run(()=>n.next(i)),error:i=>t.run(()=>n.error(i)),complete:()=>t.run(()=>n.complete())})):r}var hr=new j("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function gr(t,e){return!!t||e.monitor!==li}function yr(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function yi(t={}){return X([hi,De,Jn,{provide:Xn,useValue:t},{provide:hr,deps:[ct,ke],useFactory:gr},{provide:ct,useFactory:yr},{provide:ke,deps:[Xn],useFactory:ar},{provide:hn,deps:[Jn],useFactory:vr},{provide:mn,useExisting:De}])}function vr(t){return t.state}var vi={providers:[Bt({eventCoalescing:!0}),Qt(Hn),jn(),Ut(Gt([Un])),{provide:ee,useFactory:()=>Gn(Ge())},gn({cardState:Wn}),zn([Kn]),yi({maxAge:25,logOnly:!Ge(),autoPause:!0,trace:!0,traceLimit:75,connectInZone:!0})]};Wt(Rn,vi).catch(t=>console.error(t));
